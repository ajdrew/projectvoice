{
  "name": "forever-service",
  "version": "0.5.4",
  "preferGlobal": "true",
  "description": "Provision node script as a service via forever, allowing it to automatically start on boot, working across various Linux distros and OS",
  "main": "lib/api.js",
  "dependencies": {
    "swig": "~1.4.2",
    "commander": "~2.3.0",
    "async": "~0.9.0",
    "shelljs": "~0.3.0",
    "walker": "~1.0.6"
  },
  "devDependencies": {
    "mocha": "*",
    "should": "*"
  },
  "scripts": {
    "test": "mocha test/*.js"
  },
  "repository": {
    "type": "git",
    "url": "https://github.com/zapty/forever-service.git"
  },
  "keywords": [
    "forever",
    "nodejs",
    "aws",
    "amazon",
    "linux",
    "initd",
    "service",
    "logrotate",
    "reboot",
    "start",
    "service",
    "amazon linux",
    "centos",
    "redhat",
    "debian",
    "raspbian",
    "ubuntu"
  ],
  "bin": {
    "forever-service": "./bin/forever-service",
    "get-forever-config": "./bin/get-forever-config"
  },
  "author": {
    "name": "Arvind Agarwal"
  },
  "bugs": {
    "url": "https://github.com/zapty/forever-service/issues"
  },
  "homepage": "https://github.com/zapty/forever-service",
  "readme": "forever-service\n===============\n\nMake provisioning node script as a service simple. \n\nWe love nodejs for server development. But, It is surprising to find that there is no standard tool to provision script as a service. Forever kind of tools comes close but they only demonize the process and not provision as service; which can be automatically started on reboots. To make matter worse, each OS and Linux distro has its own unique way of provisioning the services correctly.\n\nGoals\n-----\n1. Make an universal service installer across various Linux distros and other OS.\n2. Automatically configure other useful things such as Logrotation scripts, port monitoring scripts etc.\n3. Graceful shutdown of services as default behaviour.\n\nPlatforms supported\n-------------------\n* Amazon Linux\n* Redhat Linux\n* CentOS\n* Ubuntu (< 15.04)\n* Debian\n* Raspbian\n* OSMC Linux\n* Fedora 21\n* Oracle Linux\n* more to come..\n\nPrerequisite\n------------\nforever must be installed globally using \n\n```npm install -g forever```\n\nInstall\n-------\n```npm install -g forever-service```\n\nUsage\n-----\n```\n$ forever-service --help\n\nforever-service version 0.x.x\n\n\n  Usage: forever-service [options] [command]\n\n  Commands:\n\n    install [options] [service]\n       Install node script (defaults to app.js in current directory) as service via forever\n    \n    \n    \n    delete [service]\n       Delete all provisioned files for the service, will stop service if running before delete\n    \n\n  Options:\n\n    -h, --help     output usage information\n    -V, --version  output the version number\n```\n\nInstall new service\n-------------------\n```\n$ forever-service install --help\n\nforever-service version 0.x.x\n\n\n  Usage: install [options] [service]\n\n  Options:\n\n    -h, --help                         output usage information\n    -s, --script [script]              Script to run as service e.g. app.js, defaults to app.js\n\n    -e --envVars [vars]                Environment Variables for the script\n                                       e.g. -e \"PORT=80 ENV=prod FOO=bar\"\n\n    -o --scriptOptions [options]       Command line options for the script\n\n    --minUptime [value]                Minimum uptime (millis) for a script to not be considered \"spinning\", default 5000\n                                       \n    --spinSleepTime [value]            Time to wait (millis) between launches of a spinning script., default 2000\n                                       \n    --noGracefulShutdown               Disable graceful shutdown\n                                       \n    -t --forceKillWaitTime [waittime]  Time to wait in milliseconds before force killing; after failed graceful stop\n                                       defaults to 5000 ms, after which entire process tree is forcibly terminated\n                                       \n    -f --foreverOptions \" [options]\"   Extra command line options for forever\n                                       e.g. -f \" --watchDirectory /your/watch/directory -w -c /custom/cli\" etc..\n                                       NOTE: a mandatory space is required after double quotes, if begining with -\n                                       \n    --start                            Start service after provisioning\n                                       \n    --nologroate                       Do not generate logrotate script\n                                       \n    --logrotateFrequency [frequency]   Frequency of logrotation\n                                       valid values are daily, weekly, monthly, \"size 100k\" etc, default daily\n                                       \n    --logrotateMax [value]             Maximum logrotated files to retain, default 10 (logrotate parameter)\n                                       \n    --logrotateCompress                Enable compression for logrotate\n\n    -p --foreverPath                   Path for forever cli e.g. /usr/local/bin,\n                                       by default forever cli is searched in system Path variable\n\n    -u --applyUlimits                  Apply increased ulimits in supported environment\n\n    -r --runAsUser [user]              *Experimental* Run service as a specific user, defaults to root (No ubuntu support yet)\n```\n\nDelete service\n--------------\n```\n$ forever-service delete --help\n\nforever-service version 0.x.x\n\n\n  Usage: delete [options] [service]\n\n  Options:\n\n    -h, --help  output usage information\n```\nExamples\n--------\n* Provision a service 'test' with app.js script in current directory\n\n```\n$ sudo forever-service install test\n```\nOn Amazon Linux, This command will setup initd script and provision service using chkconfig,\nCreate logrotate scripts\n\n\n\n* Provision a service 'test' with main.js script in current directory\n\n```\n$ sudo forever-service install test --script main.js\n```\n\n\n\n* Custom options for forever \n\n```\n$ sudo forever-service install test -f \" --watchDirectory /your/watch/directory -w\"\n```\n\n\n\n\n* Command line parameters for the script\n\n```\n$ sudo forever-service install test --script main.js -o \" param1 param2\"\n```\n\n\n\n* Delete service\n\n```\n$ sudo forever-service delete test\n```\nThis command will stop service if running, clean up all provisioned files and service\n\n\n\n\n* Get list of running services (Remember all forever command line options are available since we use forever internally)\n```\n$ sudo forever list\n```\n\nRun non nodejs scripts as service\n---------------------------------\n\nforever allows to use -c command line parameter to point to alternate command line for execution, using that one can easily launch non-node apps also as service\n\n\n* Run Java Program as service\n\n```\n$ sudo forever-service install javaservice1 -s start.jar -f \" -c 'java -Xms1024m -Xmx1024m -jar'\"\n```\nThis command will run start.jar using java command line \n\n\n\n* Run PHP Program as service\n```\n$ sudo forever-service install phpservice1 -s info.php -f \" -c php\"\n```\nThis command will run info.php using php command line \n\n\n\nKnown Issue(s)\n--------------\n\"restart service\" command works like stop in Ubuntu due to bug in upstart https://bugs.launchpad.net/upstart/+bug/703800 \n\n\nRoadmap\n-------\nSupport other Linux distros, OSX, Windows etc.\n\nContributions are welcome, please send pull requests\n",
  "readmeFilename": "README.md",
  "_id": "forever-service@0.5.4",
  "_from": "forever-service@"
}
